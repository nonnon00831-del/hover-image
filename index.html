/* --- 共通設定 --- */
.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 8px;
    cursor: pointer;
    /* 戻る時の速度（0sにすると一瞬で戻ります） */
    transition: all 0.2s ease-out; 
    transition-delay: 0s; /* 戻る時は遅延させない */
}

/* --- 背景暗転の遅延設定 --- */
.gallery-container::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.7);
    opacity: 0;
    visibility: hidden;
    z-index: 10;
    pointer-events: none;
    /* 背景も画像と同じタイミングで暗くする */
    transition: all 0.3s ease;
    transition-delay: 0s;
}

/* ホバーされた時の「溜め」の設定 */
.gallery-container:has(.gallery-item:hover)::before {
    opacity: 1;
    visibility: visible;
    transition-delay: 0.3s; /* 0.3秒乗せ続けて初めて暗くなる */
}

/* --- ホバー（拡大）の遅延設定 --- */
.gallery-item:hover {
    z-index: 100;
}

.gallery-item:hover img {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1.5);
    
    width: 80vw;
    max-width: 700px;
    height: auto;
    aspect-ratio: 16 / 9;
    box-shadow: 0 20px 50px rgba(0,0,0,0.8);
    z-index: 101;

    /* 【重要】ここがポイント */
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); /* 少し弾むような動き */
    transition-delay: 0.3s; /* 0.3秒間マウスを置かないと拡大しない */
}
